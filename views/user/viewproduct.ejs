<%- include('../user/userHeader')%>
    <!DOCTYPE html>
    <html>

    <head>
        <title>Home</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
        <style>
            .product-image-container {
                position: relative;
                display: inline-block;
            }

            .zoom-display {
                position: absolute;
                top: 0;
                left: 100%;
                width: 300px;
                height: 300px;
                background-repeat: no-repeat;
                background-position: center;
                background-size: contain;
                border: 1px solid #ccc;
                display: none;
            }
        </style>
    </head>

    <body>
        <div class="container" style="margin-top: 7rem;">
            <div>
                <a href="/home" style="margin-left: 1rem;"><i class="fa fa-arrow-left" aria-hidden="true"></i></a>
            </div>
            <div class="shadow p-5 mb-5 bg-white rounded row" style="height: 26rem;">
                <div class="col-md-6">
                    <div class="product-image-container">
                        <%for(let i=0; i<product.image.length; i++) { %>
                            <img src="/public/productImages/<%= product.image[i] %>" alt="Product Image"
                                class="product-image" id="product-image-<%= i %>" style="width:10rem;height: 15rem;"
                                data-zoom-src="/public/productImages/<%= product.image[i] %>">
                            <% } %>
                    </div>
                    <div class="zoom-display"></div>
                </div>
                <div class="col-md-3 ml-3">
                    <h2 style="color: rgb(66, 66, 149);">
                        <%= product.name %>
                    </h2>
                    <p>by: <%= product.author %>
                    </p>
                    <p>
                        <%= product.description %>
                    </p>
                    <p style="color: rgb(2, 143, 7);">â‚¹<%= product.price %>
                    </p>
                    <a href="/addtocart?id=<%= product._id %>"><button class="btn btn-success m-2" id="add-to-cart" onclick="function3()">Add
                            to Cart</button></a>
                    <button class="btn btn-secondary  m-2" id="add-to-wishlist">Add to Wishlist</button>
                </div>
            </div>
        </div>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/elevatezoom/3.0.8/jquery.elevatezoom.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.3/dist/sweetalert2.all.min.js"></script>

        <script>
            $(document).ready(function () {
                $('.product-image').each(function () {
                    $(this).elevateZoom({
                        zoomWindowPosition: 1,
                        zoomWindowWidth: 300,
                        zoomWindowHeight: 300,
                        gallery: 'product-image-container',
                        cursor: 'crosshair',
                        galleryActiveClass: 'active',
                        responsive: true,
                        zoomWindowFadeIn: 500,
                        zoomWindowFadeOut: 500,
                        lensFadeIn: 500,
                        lensFadeOut: 500,
                        zoomWindowContainerClass: 'zoom-display'
                    });
                });
            });
        </script>
         <script language="JavaScript">
            function function3() {
                Swal.fire({
                    title: 'Success!',
                    text: 'Item added to cart successfully!',
                    icon: 'success',
                    showConfirmButton: false, // Hide the "OK" button
                });
            }
        </script>
    </body>

    </html>